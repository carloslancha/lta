enum PoulesType {
  POSITIONING
  QUALIFICATION
}

type Academy {
    country: String!
    createdBy: User
    id: ID! @id
    name: String! @unique
    schools: [School!] @relation(name: "SchoolOnAcademy", onDelete: CASCADE)
}

type Clan {
    createdBy: User
    id: ID! @id
    name: String!
    players: [Player!]
    school: School! @relation(name: "ClanOnSchool", onDelete: SET_NULL)
}

type Form {
    createdBy: User
    id: ID! @id
    name: String!
}

type Poule {
	id: ID! @id
	name: String!
	players: [Player!]!
	tournament: Tournament! @relation(name: "PouleOnTournament", onDelete: SET_NULL)
}

type Player {
    clan: Clan!
    createdBy: User
    familyName: String!
    forms: [Form!]
    id: ID! @id
    name: String!
    nickname: String!
    poules: [Poule!]
    tournaments: [Tournament!] @relation(name: "PlayerOnTournament", onDelete: SET_NULL)
}

type School {
    academy: Academy! @relation(name: "SchoolOnAcademy", onDelete: SET_NULL)
    clans: [Clan!] @relation(name: "ClanOnSchool", onDelete: CASCADE)
    createdBy: User
    id: ID! @id
    name: String!
}

type Tournament {
    createdBy: User
    id: ID! @id
    name: String!
    players: [Player!] @relation(name: "PlayerOnTournament", onDelete: SET_NULL)
    poules: [Poule!] @relation(name: "PouleOnTournament", onDelete: CASCADE)
    poulesType: PoulesType!
}

type User {
    academies: [Academy!]
    email: String! @unique
    id: ID! @id
    name: String!
    password: String!
    schools: [School!]
}